@model Projecto.Models.ViewModels.ProjectDetails

<div class="d-flex justify-content-between align-items-center">
  <div>
    <h2>@Model.Project.Title</h2>
    <p>@Model.Project.Description</p>
  </div>
  <div>
    @*Need to replace action with Sprint controller action*@
    <a asp-controller="Projects" asp-action="Edit" asp-route-id="@Model.Project.Id" class="btn btn-secondary">Edit</a>
    <a asp-controller="Projects" asp-action="Delete" asp-route-id="@Model.Project.Id" class="btn btn-danger">Delete</a>
  </div>
</div>

<ul class="nav nav-tabs" id="projectTabs" role="tablist">
  <li class="nav-item" role="presentation">
    <button class="nav-link active" id="overview-tab" data-bs-toggle="tab" data-bs-target="#overview" type="button"
      role="tab">
      Overview
    </button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="sprints-tab" data-bs-toggle="tab" data-bs-target="#sprints" type="button" role="tab">
      Sprints
    </button>
  </li>
  <li class="nav-item" role="presentation"></li>
  <button class="nav-link" id="tickets-tab" data-bs-toggle="tab" data-bs-target="#tickets" type="button" role="tab">
    Tickets
  </button>
  </li>
</ul>

<div class="tab-content mt-3" id="projectTabsContent">
  <div class="tab-pane fade show active" id="overview" role="tabpanel" aria-labelledby="overview-tab">
    <partial name="_ProjectOverview" model="Model.Project" />
    @* @await Html.PartialAsync("~/Views/Tickets/_TicketList.cshtml", Model) *@
  </div>
  <div class="tab-pane fade" id="sprints" role="tabpanel" aria-labelledby="sprints-tab">
    @* <partial name="~/Views/Projects/_ProjectSprints.cshtml" , model=Model /> *@
    <div class="d-flex justify-content-end align-items-center mb-3">
      <a asp-controller="Sprints" asp-action="Create" asp-route-projectId="@Model.Project.Id" class="btn btn-primary">
        + Add Sprint
      </a>
    </div>

    <div id="sprints-content" data-project-id="@Model.Project.Id">
      <p class="text-muted">Loading sprints...</p>
    </div>
  </div>
  <div class="tab-pane fade" id="tickets" role="tabpanel" aria-labelledby="tickets-tab">
    <div class="d-flex justify-content-end align-items-center mb-3">
      <a asp-controller="Tickets" asp-action="Create" asp-route-projectId="@Model.Project.Id" class="btn btn-primary">
        + Add Ticket
      </a>
    </div>

    @* <partial name="~/Views/Tickets/_TicketList.cshtml" model="Model.Tickets" /> *@

    <div id="tickets-content" data-project-id="@Model.Project.Id">
      <p class="text-muted">Loading tickets...</p>
    </div>
  </div>
</div>

@section Scripts {
  <script src="~/js/project-details.js"></script>
}